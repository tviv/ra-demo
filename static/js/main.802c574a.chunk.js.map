{"version":3,"sources":["dataProvider.ts","authProvider.ts","../../../liac/esm/NativePermissions.js","../../../liac/esm/convert2NativePermissionsDefault.js","../../../liac/esm/canAccess.js","../../../ra-liac/esm/useGetCanAccess.js","../../../ra-liac/esm/useCanAccess.js","../../../ra-liac/esm/Resource.js","../../../ra-liac/esm/Toolbar.js","../../../ra-liac/esm/utils/replaceChildren.js","../../../ra-liac/esm/utils/filterChildren.js","../../../ra-liac/esm/utils/FilterByPermissions.js","../../../ra-liac/esm/Show.js","../../../ra-liac/esm/Edit.js","../../../ra-liac/esm/PostListActionToolbar.js","../../../ra-liac/esm/List.js","../../../ra-liac/esm/Create.js","components/layout/LoginPage.tsx","components/posters/index.ts","components/posters/PosterList.tsx","components/posters/PosterCreate.tsx","components/posters/PosterEdit.tsx","components/posters/PosterShow.tsx","components/clients/index.ts","components/clients/ClientList.tsx","components/clients/ClientCreate.tsx","components/clients/ClientEdit.tsx","components/clients/ClientShow.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["_default","fakeDataProvider","posters","id","name","description","comment","price","clients","permissions","admin","userId","userName","actions","resource","reader","corrector","fields","user","records","login","username","info","localStorage","setItem","role","JSON","stringify","Promise","resolve","reject","logout","removeItem","checkError","checkAuth","getItem","getPermissions","parse","getIdentity","fullName","FIELD_ACTIONS","join","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","normalizeByType","type","filteredPermissions","_a","filtered","filter","x","flatMap","v","a","indexOf","result","fromEntries","Map","map","includes","forEach","addImpliedLogicAsExplicit","entries","filteredByResourceAndStringsAsArrays","split","trim","res","startsWith","denyActions","substring","push","replace","Array","isArray","allowed","denied","permissionScope","_b","_c","_d","_e","_f","considerAllActions","edit","show","delete","isMatch","require","checkRules","whereName","whatName","fn","o","some","canAccess","castAppPerms2NativePerms","convert2ResourcePermissionsDefault","requestedAccess","ra","scope","action","np","get","checkScopes","and","checkScopesResults","actionContent","ac_1","undefined","checkScopesResult","reduce","canAccessFactory","useGetCanAccess","props","usePermissions","loaded","useResourceContext","useCallback","askedPermission","ap","useCanAccess","useMemo","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","ResourceWithPermission","resourceName","list","create","access","_jsx","Resource","ToolbarWithPermissions","value","defaultValue","children","record","useRecordContext","canDelete","Children","count","useStyles","makeStyles","theme","toolbar","backgroundColor","palette","grey","desktopToolbar","marginTop","spacing","mobileToolbar","position","bottom","left","right","padding","width","boxSizing","flexShrink","zIndex","defaultToolbar","flex","display","justifyContent","spacer","breakpoints","down","height","alwaysEnableSaveButton","basePath","handleSubmit","className","classes","handleSubmitWithRedirect","invalid","pristine","record_1","redirect","resource_1","saving","submitOnEnter","undoable","mutationMode","validating","disabled","_jsxs","SaveButton","DeleteButton","Toolbar","replaceChildren","el","checkFn","replaceFn","replaceInner","c","isValidElement","cloneElement","shift","filterChildren","child","FilterByPermissions","filteredChildren","source","requestAccess","field","hasEdit","_Fragment","ShowWithPermissions","useCheckMinimumRequiredProps","useRedirect","controllerProps","useShowController","canShow","ShowContextProvider","ShowView","toolbar_1","useEditController","canEdit","EditContextProvider","EditView","usePostListActionToolbarStyles","marginBottom","PostListActionToolbar","React","button","WrappedEditButton","rd","useResourceDefinition","List","exporter","bulkActionButtons","Create","main","flexDirection","minHeight","alignItems","backgroundRepeat","backgroundSize","backgroundImage","card","minWidth","avatar","margin","icon","secondary","hint","color","form","input","renderInput","meta","touched","error","inputProps","TextField","helperText","fullWidth","Form","withTypes","Login","useState","loading","setLoading","translate","useTranslate","notify","useNotify","useLogin","location","useLocation","onSubmit","auth","state","nextPathname","catch","message","_","validate","values","errors","render","noValidate","Card","Avatar","autoFocus","component","label","CardActions","Button","variant","CircularProgress","size","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","defaultTheme","Datagrid","rowClick","EditButton","SimpleForm","TextInput","Edit","Show","SimpleShowLayout","App","Admin","dataProvider","authProvider","loginPage","LoginPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.802c574a.chunk.js","sourcesContent":["import fakeDataProvider from 'ra-data-fakerest';\r\n\r\nconst _default = fakeDataProvider({\r\n    posters: [\r\n        { id: 1, name: 'Poster-23', description: 'description of poster 23', comment: 'it\\'s good', price: 100 },\r\n        { id: 2, name: 'Poster-67', description: 'description of poster 67', comment: 'weak', price: 130  },\r\n        { id: 3, name: 'Poster-24', description: 'description of poster 24', comment: 'hire its author', price: 80  },\r\n        { id: 4, name: 'Poster-98', description: 'description of poster 98', comment: 'hire its author', price: 23  },\r\n        { id: 5, name: 'Poster-298', description: 'description of poster 298', comment: 'hire its author', price: 340  },\r\n        { id: 6, name: 'Poster-11', description: 'description of poster 11', comment: 'hire its author', price: 54  },\r\n    ],\r\n    clients: [\r\n        { id: 1, name: 'client 1' },\r\n        { id: 2, name: 'client 2' },\r\n        { id: 3, name: 'client 3' },\r\n        { id: 4, name: 'client 4' },\r\n    ]\r\n\r\n});\r\n\r\nexport default _default;","const permissions = {\r\n    admin: {\r\n        userId: '1',\r\n        userName: 'Jhon Smith',\r\n        permissions: [{actions: '*', resource: '*'}]\r\n    },\r\n    reader: {\r\n        userId: '3',\r\n        userName: 'Izy Rain1',\r\n        permissions: [{resource: '*', actions: 'show'}]\r\n    },\r\n    corrector: {\r\n        userId: '2',\r\n        userName: 'C Corrector',\r\n        permissions: [\r\n            {resource: 'posters', actions: '*,-delete'},\r\n            {resource: 'posters', fields: 'price', actions: '-show'}\r\n        ]\r\n    },\r\n    user: {\r\n        userId: '4',\r\n        userName: 'U User',\r\n        permissions: [\r\n            {resource: 'posters', actions: 'show'},\r\n            {resource: 'posters', records: {id: 2}, actions: 'edit, delete'},\r\n            {resource: 'posters', records: {id: 3}, actions: 'edit'},\r\n            {resource: 'posters', fields: 'comments, price', actions: '-show'},\r\n        ]\r\n    },\r\n}\r\n\r\nexport default {\r\n    login: ({ username }) => {\r\n        const info = permissions[username];\r\n\r\n        if (info) {\r\n            localStorage.setItem('userId', info.userId);\r\n            localStorage.setItem('userName', info.userName);\r\n            localStorage.setItem('role', info.role);\r\n            localStorage.setItem('permissions', JSON.stringify(info.permissions));\r\n            return Promise.resolve()\r\n        }\r\n\r\n        return Promise.reject()\r\n    },\r\n    logout: () => {\r\n        localStorage.removeItem('userId');\r\n        localStorage.removeItem('userName');\r\n        return Promise.resolve();\r\n    },\r\n    checkError: () => Promise.resolve(),\r\n    checkAuth: () =>\r\n        localStorage.getItem('userName') ? Promise.resolve() : Promise.reject(),\r\n    getPermissions: () => Promise.resolve(JSON.parse(localStorage.getItem('permissions') || '[]')),\r\n    getIdentity: () =>\r\n        Promise.resolve({\r\n            id: localStorage.getItem('userId') ?? '',\r\n            fullName: localStorage.getItem('userName') ?? ''\r\n        }),\r\n};\r\n","var actionWithRecords = ['create', 'show', 'edit', 'delete']; //it can be deleted\r\nvar actionWithFields = ['show', 'edit'];\r\nexport var FIELD_ACTIONS = actionWithFields.join(',');\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { FIELD_ACTIONS } from \"./NativePermissions\";\r\nexport default (function (resource, permissions) {\r\n    var normalizeByType = function (type, filteredPermissions) {\r\n        var _a;\r\n        var filtered = filteredPermissions.filter(function (x) { return x.type === type; });\r\n        var actions = filtered.flatMap(function (x) { return x.actions; }).filter(function (v, i, a) { return a.indexOf(v) === i; });\r\n        var result = Object.fromEntries(new Map(actions.map(function (x) { return [x, {}]; })));\r\n        actions.filter(function (x) { return FIELD_ACTIONS.includes(x) || x === '*'; }).forEach(function (x) {\r\n            var fields = filtered.filter(function (v) { return v.fields && v.actions.includes(x); }).flatMap(function (v) { return v.fields; });\r\n            if (fields.length)\r\n                result[x].fields = fields;\r\n        });\r\n        actions.forEach(function (x) {\r\n            var records = filtered.filter(function (v) { return v.records && v.actions.includes(x); }).flatMap(function (v) { return v.records; });\r\n            if (records.length)\r\n                result[x].records = records;\r\n        });\r\n        addImpliedLogicAsExplicit(type, result);\r\n        return Object.entries(result).length ? (_a = {}, _a[type] = result, _a) : {};\r\n    };\r\n    var filteredByResourceAndStringsAsArrays = permissions\r\n        .filter(function (x) { return x.resource === resource || x.resource === '*'; })\r\n        .map(function (x) { return (__assign(__assign({}, x), { actions: typeof x.actions === 'string'\r\n            ? x.actions.split(',').map(function (v) { return v.trim(); }).filter(function (v) { return v !== ''; }) //the first operation .replace('*', ACTIONS) was removed for more fluent\r\n            : x.actions || [] })); })\r\n        .flatMap(function (x) {\r\n        var res = [\r\n            __assign(__assign({}, x), { type: x.type || 'allow', actions: x.actions.filter(function (x) { return !x.startsWith('-'); }) })\r\n        ];\r\n        //sugar - if there are action with minus at the beginning, convert them to normal view\r\n        var denyActions = x.actions.filter(function (x) { return x.startsWith('-'); }).map(function (x) { return x.substring(1); });\r\n        if (denyActions.length)\r\n            res.push(__assign(__assign({}, x), { type: 'deny', actions: denyActions }));\r\n        return res;\r\n    })\r\n        .map(function (x) { return (__assign(__assign({}, x), { fields: typeof x.fields === 'string'\r\n            ? x.fields.replace('*', '').split(',').map(function (v) { return v.trim(); }).filter(function (v) { return v !== ''; }) //remove \"*\" so it all is implicit access for fields\r\n            : x.fields })); })\r\n        .map(function (x) { return (__assign(__assign({}, x), { records: !x.records ? [] : Array.isArray(x.records) ? x.records : [x.records] })); });\r\n    var allowed = normalizeByType('allow', filteredByResourceAndStringsAsArrays);\r\n    var denied = normalizeByType('deny', filteredByResourceAndStringsAsArrays);\r\n    return __assign(__assign({}, allowed), denied);\r\n});\r\n//helpers\r\n/**\r\n * Post handling (few business logic) - if \"show\" is restricted but \"edit\" is not done explicitly  then we must restrict edit\r\n * othewise it is illogical if \"show\" doesn't allow but \"edit\" allows everything...and etc\r\n * @param type\r\n * @param permissionScope\r\n */\r\nvar addImpliedLogicAsExplicit = function (type, permissionScope) {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    var result = permissionScope;\r\n    var considerAllActions = (result['*'] && type === \"allow\") || (!result['*'] && type === \"deny\");\r\n    if (result.edit || considerAllActions) {\r\n        if (((_a = result.show) === null || _a === void 0 ? void 0 : _a.fields) && !((_b = result.edit) === null || _b === void 0 ? void 0 : _b.fields)) {\r\n            if (!result.edit)\r\n                result.edit = {};\r\n            result.edit.fields = result.show.fields;\r\n        }\r\n        if (((_c = result.show) === null || _c === void 0 ? void 0 : _c.records) && !((_d = result.edit) === null || _d === void 0 ? void 0 : _d.records)) {\r\n            if (!result.edit)\r\n                result.edit = {};\r\n            result.edit.records = result.show.records;\r\n        }\r\n    }\r\n    if (result.delete || result['*']) {\r\n        if (((_e = result.edit) === null || _e === void 0 ? void 0 : _e.records) && !((_f = result.delete) === null || _f === void 0 ? void 0 : _f.records)) {\r\n            if (!result.delete)\r\n                result.delete = {};\r\n            result.delete.records = result.edit.records;\r\n        }\r\n    }\r\n};\r\n//const ACTIONS = Array.from(new Set([...actionWithRecords,...actionWithFields])).join(',')\r\n","import convert2ResourcePermissionsDefault from \"./convert2NativePermissionsDefault\";\r\nvar isMatch = require('lodash.ismatch');\r\nvar checkRules = [\r\n    { whereName: 'fields', whatName: 'field', fn: function (o, v) { return o === null || o === void 0 ? void 0 : o.includes(v); } },\r\n    { whereName: 'records', whatName: 'record', fn: function (o, v) { return o === null || o === void 0 ? void 0 : o.some(function (x) { return isMatch(v, x); }); } }\r\n];\r\nexport default (function (castAppPerms2NativePerms) {\r\n    if (castAppPerms2NativePerms === void 0) { castAppPerms2NativePerms = convert2ResourcePermissionsDefault; }\r\n    // noinspection UnnecessaryLocalVariableJS\r\n    var canAccess = function (permissions, requestedAccess) {\r\n        if (!permissions)\r\n            return false;\r\n        var ra = requestedAccess.hasOwnProperty('scope')\r\n            ? { resource: requestedAccess.scope, action: 'enabled' } : requestedAccess;\r\n        var resource = ra.resource;\r\n        if (!resource || !resource.length)\r\n            return false;\r\n        var np = (permissions instanceof Map)\r\n            ? permissions.get(resource)\r\n            : (permissions.hasOwnProperty('allow') || permissions.hasOwnProperty('deny')\r\n                ? permissions : castAppPerms2NativePerms(resource, permissions));\r\n        var checkScopes = function (type) {\r\n            var and = type === 'allow';\r\n            var checkScopesResults = [];\r\n            var actionContent = np[type] && (np[type][ra.action] || np[type]['*']);\r\n            //const actionsWithContent = [np[type] && np[type]![ra.action], np[type] && np[type]!['*']]\r\n            //actionsWithContent.forEach(actionContent => {\r\n            if (actionContent) {\r\n                var ac_1 = actionContent;\r\n                checkRules.forEach(function (x) {\r\n                    if (!and)\r\n                        checkScopesResults.push(ac_1[x.whereName] && !ra[x.whatName] ? false : undefined);\r\n                    checkScopesResults.push(ac_1[x.whereName] && ra[x.whatName]\r\n                        ? x.fn(ac_1[x.whereName], ra[x.whatName]) : undefined);\r\n                });\r\n                /*\r\n                                if (!and) checkScopesResults.push(actionContent.fields && !ra.field ? false : undefined)\r\n                                checkScopesResults.push(actionContent.fields && ra.field\r\n                                    ? actionContent.fields?.includes(ra.field) : undefined)\r\n                                checkScopesResults.push(actionContent.records && ra.record\r\n                                    ? actionContent.records.every(x => isMatch(ra.record, x)) : undefined)\r\n                                    */\r\n            }\r\n            //})\r\n            var checkScopesResult = checkScopesResults.filter(function (x) { return x !== undefined; }).reduce(function (a, x) {\r\n                //const v = x === undefined ? and : x\r\n                if (a === undefined)\r\n                    a = x;\r\n                return and ? a && x : a || x;\r\n            }, undefined);\r\n            return !!actionContent && checkScopesResult !== false;\r\n            //return actionsWithContent.some(x=>x) && checkScopesResult !== false\r\n        };\r\n        var denied = checkScopes('deny');\r\n        return !denied && checkScopes('allow');\r\n    };\r\n    return canAccess;\r\n});\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { usePermissions, useResourceContext } from \"ra-core\";\r\nimport { useCallback } from \"react\";\r\nimport { canAccessFactory } from \"liac\";\r\nvar canAccess = canAccessFactory();\r\nvar useGetCanAccess = function (props) {\r\n    var _a = usePermissions(), loaded = _a.loaded, permissions = _a.permissions;\r\n    var resource = useResourceContext(props);\r\n    if (props && props.permissions) {\r\n        permissions = props.permissions;\r\n        loaded = true;\r\n    }\r\n    return useCallback(function (askedPermission) {\r\n        // @ts-ignore\r\n        var ap = askedPermission && !askedPermission.scope && !askedPermission.resource\r\n            ? __assign(__assign({}, askedPermission), { resource: resource }) : askedPermission;\r\n        // @ts-ignore\r\n        return !ap || (loaded ? canAccess(permissions, ap) : undefined);\r\n    }, [permissions]);\r\n};\r\nexport default useGetCanAccess;\r\n","import { useMemo } from \"react\";\r\nimport useGetCanAccess from \"./useGetCanAccess\";\r\nvar useCanAccess = function (askedPermission) {\r\n    var canAccess = useGetCanAccess();\r\n    return useMemo(function () { return canAccess && canAccess(askedPermission); }, [canAccess, askedPermission]);\r\n};\r\nexport default useCanAccess;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { Resource } from \"ra-core\";\r\nimport useCanAccess from \"./useCanAccess\";\r\nvar ResourceWithPermission = function (_a) {\r\n    var resourceName = _a.name, edit = _a.edit, list = _a.list, show = _a.show, create = _a.create, props = __rest(_a, [\"name\", \"edit\", \"list\", \"show\", \"create\"]);\r\n    var access = {\r\n        list: useCanAccess({ action: 'show', resource: resourceName }),\r\n        create: useCanAccess({ action: 'create', resource: \"\" + resourceName }),\r\n        edit: useCanAccess({ action: 'edit', resource: \"\" + resourceName }),\r\n        show: useCanAccess({ action: 'show', resource: \"\" + resourceName }),\r\n    };\r\n    return (_jsx(Resource, __assign({ name: resourceName, list: access.list ? list : undefined, edit: access.edit ? edit : undefined, show: access.show ? show : undefined, create: access.create ? create : undefined }, props), void 0));\r\n};\r\nexport default ResourceWithPermission;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { Toolbar } from \"ra-ui-materialui\";\r\nimport { Children } from \"react\";\r\nimport { DeleteButton, SaveButton } from \"ra-ui-materialui\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport useCanAccess from \"./useCanAccess\";\r\nimport { useRecordContext, useResourceContext } from \"ra-core\";\r\nvar ToolbarWithPermissions = function (_a) {\r\n    var children = _a.children, props = __rest(_a, [\"children\"]);\r\n    var record = useRecordContext();\r\n    var resource = useResourceContext(props);\r\n    var canDelete = useCanAccess({ record: record, resource: resource, action: 'delete' });\r\n    if (Children.count(children) === 0) {\r\n        var useStyles = makeStyles(function (theme) {\r\n            var _a;\r\n            return ({\r\n                toolbar: {\r\n                    backgroundColor: theme.palette.type === 'light'\r\n                        ? theme.palette.grey[100]\r\n                        : theme.palette.grey[900],\r\n                },\r\n                desktopToolbar: {\r\n                    marginTop: theme.spacing(2),\r\n                },\r\n                mobileToolbar: {\r\n                    position: 'fixed',\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    padding: '16px',\r\n                    width: '100%',\r\n                    boxSizing: 'border-box',\r\n                    flexShrink: 0,\r\n                    zIndex: 2,\r\n                },\r\n                defaultToolbar: {\r\n                    flex: 1,\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                },\r\n                spacer: (_a = {},\r\n                    _a[theme.breakpoints.down('xs')] = {\r\n                        height: '5em',\r\n                    },\r\n                    _a),\r\n            });\r\n        }, { name: 'RaToolbar' });\r\n        var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record_1 = props.record, redirect = props.redirect, resource_1 = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, mutationMode = props.mutationMode, validating = props.validating, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"mutationMode\", \"validating\", \"width\"]);\r\n        var classes = useStyles(props);\r\n        // @ts-ignore\r\n        var valueOrDefault = function (value, defaultValue) {\r\n            return typeof value === 'undefined' ? defaultValue : value;\r\n        };\r\n        var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine && !validating);\r\n        children = (_jsxs(\"div\", __assign({ className: classes.defaultToolbar }, { children: [_jsx(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving || validating, submitOnEnter: submitOnEnter }, void 0), record_1 && typeof record_1.id !== 'undefined' && canDelete && (_jsx(DeleteButton, { basePath: basePath, record: record_1, resource: resource_1, undoable: undoable, mutationMode: mutationMode }, void 0))] }), void 0));\r\n    }\r\n    return (_jsx(Toolbar, __assign({}, props, { children: children }), void 0));\r\n};\r\nexport default ToolbarWithPermissions;\r\n","import { Children, cloneElement, isValidElement } from \"react\";\r\nvar replaceChildren = (function (el, checkFn, replaceFn) {\r\n    return replaceInner(el);\r\n    function replaceInner(el) {\r\n        if (checkFn(el))\r\n            return replaceFn(el);\r\n        if (el.props && el.props.children) {\r\n            var c = Children.map(el.props.children, function (x) { return isValidElement(x) ? replaceInner(x) : x; });\r\n            return cloneElement(el, el.props, c.length > 1 ? c : c.shift());\r\n        }\r\n        else {\r\n            return el;\r\n        }\r\n    }\r\n});\r\nexport default replaceChildren;\r\n","import replaceChildren from \"./replaceChildren\";\r\nvar filterChildren = function (el, fn) {\r\n    return replaceChildren(el, function (child) { return !fn(child); }, function () { return undefined; });\r\n};\r\nexport default filterChildren;\r\n","import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\r\nimport filterChildren from \"./filterChildren\";\r\nimport useGetCanAccess from \"../useGetCanAccess\";\r\nvar FilterByPermissions = function (_a) {\r\n    var children = _a.children, action = _a.action;\r\n    var canAccess = useGetCanAccess(children === null || children === void 0 ? void 0 : children.props);\r\n    var filteredChildren = filterChildren(children, function (child) {\r\n        var _a, _b, _c;\r\n        var source = (_a = child.props) === null || _a === void 0 ? void 0 : _a.source;\r\n        var requestAccess = source && { field: source, action: action };\r\n        // requestAccess = requestAccess ||\r\n        //     // @ts-ignore\r\n        //     child?.type?.name === 'EditButton' && {resource: resource, action: 'edit'}\r\n        // @ts-ignore\r\n        if (((_b = child === null || child === void 0 ? void 0 : child.type) === null || _b === void 0 ? void 0 : _b.name) === 'EditButton' && !((_c = children.props) === null || _c === void 0 ? void 0 : _c.hasEdit))\r\n            return false;\r\n        return !!canAccess(requestAccess);\r\n    });\r\n    return (_jsx(_Fragment, { children: filteredChildren }, void 0));\r\n};\r\nexport default FilterByPermissions;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { ShowView } from \"ra-ui-materialui\";\r\nimport FilterByPermissions from \"./utils/FilterByPermissions\";\r\nimport { ShowContextProvider, useCheckMinimumRequiredProps, useRedirect, useShowController } from \"ra-core\";\r\nimport useGetCanAccess from \"./useGetCanAccess\";\r\nvar ShowWithPermissions = function (props) {\r\n    useCheckMinimumRequiredProps('Show', ['children'], props);\r\n    var redirect = useRedirect();\r\n    var controllerProps = useShowController(props);\r\n    var canAccess = useGetCanAccess(props);\r\n    var canShow = canAccess({ record: controllerProps.record, action: 'show' });\r\n    if (!canShow) {\r\n        if (canShow === false)\r\n            redirect('list', props.basePath);\r\n        return null;\r\n    }\r\n    controllerProps.hasEdit = controllerProps.hasEdit &&\r\n        canAccess({ record: controllerProps.record, action: 'edit' });\r\n    return (_jsx(ShowContextProvider, __assign({ value: controllerProps }, { children: _jsx(FilterByPermissions, __assign({ action: \"show\" }, { children: _jsx(ShowView, __assign({}, props, controllerProps), void 0) }), void 0) }), void 0));\r\n};\r\nexport default ShowWithPermissions;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { EditView } from \"ra-ui-materialui\";\r\nimport FilterByPermissions from \"./utils/FilterByPermissions\";\r\nimport Toolbar from \"./Toolbar\";\r\nimport { EditContextProvider, useCheckMinimumRequiredProps, useEditController, useRedirect } from \"ra-core\";\r\nimport useCanAccess from \"./useCanAccess\";\r\nexport default (function (props) {\r\n    var _a, _b;\r\n    // let  injectedChildren = children\r\n    if (((_b = (_a = props.children) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.name) === 'SimpleForm') {\r\n        var toolbar_1 = props.children.toolbar || (_jsx(Toolbar, {}, void 0));\r\n        var children = __assign(__assign({}, props.children), { props: __assign(__assign({}, props.children.props), { toolbar: toolbar_1 }) });\r\n        props = __assign(__assign({}, props), { children: children });\r\n    }\r\n    useCheckMinimumRequiredProps('Edit', ['children'], props);\r\n    var controllerProps = useEditController(props);\r\n    var redirect = useRedirect();\r\n    var canEdit = useCanAccess({ resource: controllerProps.resource, record: controllerProps.record, action: 'edit' });\r\n    if (!canEdit) {\r\n        // noinspection PointlessBooleanExpressionJS\r\n        if (canEdit === false)\r\n            redirect('list', props.basePath);\r\n        return null;\r\n    }\r\n    return (_jsx(EditContextProvider, __assign({ value: controllerProps }, { children: _jsx(FilterByPermissions, __assign({ action: \"edit\" }, { children: _jsx(EditView, __assign({}, props, controllerProps), void 0) }), void 0) }), void 0));\r\n});\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport * as React from \"react\";\r\nvar usePostListActionToolbarStyles = makeStyles({\r\n    toolbar: {\r\n        justifyContent: 'flex-end',\r\n        display: 'flex',\r\n        marginTop: -1,\r\n        marginBottom: -1,\r\n    },\r\n});\r\nvar PostListActionToolbar = function (_a) {\r\n    var children = _a.children, props = __rest(_a, [\"children\"]);\r\n    var classes = usePostListActionToolbarStyles();\r\n    return (_jsx(\"div\", __assign({ className: classes.toolbar }, { children: React.Children.map(children, function (button) { return React.cloneElement(button, props); }) }), void 0));\r\n};\r\nexport default PostListActionToolbar;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { List } from \"ra-ui-materialui\";\r\nimport FilterByPermissions from \"./utils/FilterByPermissions\";\r\nimport { useRecordContext, useResourceContext, useResourceDefinition } from \"ra-core\";\r\nimport * as React from \"react\";\r\nimport replaceChildren from \"./utils/replaceChildren\";\r\nimport useCanAccess from \"./useCanAccess\";\r\nvar WrappedEditButton = function (_a) {\r\n    var children = _a.children, props = __rest(_a, [\"children\"]);\r\n    var rd = useResourceDefinition(props);\r\n    var resource = useResourceContext();\r\n    var record = useRecordContext();\r\n    var canEdit = rd.hasEdit && useCanAccess({ resource: resource, record: record, action: 'edit' });\r\n    return canEdit ? (_jsx(_Fragment, { children: React.cloneElement(children, __assign({}, props)) }, void 0)) : null;\r\n};\r\nexport default (function (props) {\r\n    //the edit button only if there is permission or hasEdit\r\n    var children = replaceChildren(props.children, function (child) { var _a; return typeof (child === null || child === void 0 ? void 0 : child.type) !== 'string' && ((_a = child === null || child === void 0 ? void 0 : child.type) === null || _a === void 0 ? void 0 : _a.name) === 'EditButton'; }, function (child) { return props.hasEdit ? (_jsx(WrappedEditButton, { children: child }, void 0)) : null; });\r\n    props = __assign(__assign({}, props), { children: children });\r\n    return (_jsx(FilterByPermissions, __assign({ action: \"show\" }, { children: _jsx(List, __assign({}, props, { exporter: props.exporter || false, bulkActionButtons: props.bulkActionButtons || false }), void 0) }), void 0));\r\n});\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { Create } from \"ra-ui-materialui\";\r\nimport FilterByPermissions from \"./utils/FilterByPermissions\";\r\nexport default (function (props) { return (_jsx(FilterByPermissions, __assign({ action: \"edit\" }, { children: _jsx(Create, __assign({}, props), void 0) }), void 0)); });\r\n","import * as React from 'react';\r\nimport { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field, withTypes } from 'react-final-form';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    Card,\r\n    CardActions,\r\n    CircularProgress,\r\n    TextField,\r\n} from '@material-ui/core';\r\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport { Notification, useTranslate, useLogin, useNotify, defaultTheme } from 'react-admin';\r\n\r\nconst useStyles = makeStyles(\r\n    theme => ({\r\n        main: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            minHeight: '100vh',\r\n            height: '1px',\r\n            alignItems: 'center',\r\n            justifyContent: 'flex-start',\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundSize: 'cover',\r\n            backgroundImage:\r\n                'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\r\n        },\r\n        card: {\r\n            minWidth: 500,\r\n            marginTop: '6em',\r\n        },\r\n        avatar: {\r\n            margin: '1em',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n        },\r\n        icon: {\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n        hint: {\r\n            marginTop: '1em',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            color: theme.palette.grey[500],\r\n        },\r\n        form: {\r\n            padding: '0 1em 1em 1em',\r\n        },\r\n        input: {\r\n            marginTop: '1em',\r\n        },\r\n        actions: {\r\n            padding: '0 1em 1em 1em',\r\n        },\r\n    }),\r\n    { name: 'RaLogin' }\r\n);\r\n\r\nconst renderInput = ({\r\n                         meta: { touched, error } = { touched: false, error: undefined },\r\n                         input: { ...inputProps },\r\n                         ...props\r\n                     }) => (\r\n    <TextField\r\n        error={!!(touched && error)}\r\n        helperText={touched && error}\r\n        {...inputProps}\r\n        {...props}\r\n        fullWidth\r\n    />\r\n);\r\n\r\ninterface FormValues {\r\n    username?: string;\r\n    password?: string;\r\n}\r\n\r\nconst { Form } = withTypes<FormValues>();\r\n\r\n// @ts-ignore\r\nconst Login = ({theme, ...props}) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const translate = useTranslate();\r\n    const classes = useStyles();\r\n    const notify = useNotify();\r\n    const login = useLogin();\r\n    const location = useLocation<{ nextPathname: string } | null>();\r\n\r\n    const handleSubmit = (auth: FormValues) => {\r\n        setLoading(true);\r\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\r\n            (error: Error) => {\r\n                setLoading(false);\r\n                notify(\r\n                    typeof error === 'string'\r\n                        ? error\r\n                        : typeof error === 'undefined' || !error.message\r\n                            ? 'ra.auth.sign_in_error'\r\n                            : error.message,\r\n                    'warning',\r\n                    {\r\n                        _:\r\n                            typeof error === 'string'\r\n                                ? error\r\n                                : error && error.message\r\n                                    ? error.message\r\n                                    : undefined,\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    };\r\n\r\n    const validate = (values: FormValues) => {\r\n        const errors: FormValues = {};\r\n        if (!values.username) {\r\n            errors.username = translate('ra.validation.required');\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={handleSubmit}\r\n            validate={validate}\r\n            render={({ handleSubmit }) => (\r\n                <form onSubmit={handleSubmit} noValidate>\r\n                    <div className={classes.main}>\r\n                        <Card className={classes.card}>\r\n                            <div className={classes.avatar}>\r\n                                <Avatar className={classes.icon}>\r\n                                    <LockIcon />\r\n                                </Avatar>\r\n                            </div>\r\n                            <div className={classes.hint}>\r\n                                admin   - full rights<br/>\r\n                                corrector   - can't delete, can't see Users<br/>\r\n                                reader   - only reading<br/>\r\n                                user    - only reading, can't see Price in Posters, can't see Users<br/>\r\n                            </div>\r\n                            <div className={classes.form}>\r\n                                <div className={classes.input}>\r\n                                    <Field\r\n                                        autoFocus\r\n                                        name=\"username\"\r\n                                        // @ts-ignore\r\n                                        component={renderInput}\r\n                                        label={translate('ra.auth.username')}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <CardActions className={classes.actions}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={loading}\r\n                                    fullWidth\r\n                                >\r\n                                    {loading && (\r\n                                        <CircularProgress\r\n                                            size={25}\r\n                                            thickness={2}\r\n                                        />\r\n                                    )}\r\n                                    {translate('ra.auth.sign_in')}\r\n                                </Button>\r\n                            </CardActions>\r\n                        </Card>\r\n                        <Notification />\r\n                    </div>\r\n                </form>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nLogin.propTypes = {\r\n    authProvider: PropTypes.func,\r\n    previousRoute: PropTypes.string,\r\n};\r\n\r\n// We need to put the ThemeProvider decoration in another component\r\n// Because otherwise the useStyles() hook used in Login won't get\r\n// the right theme\r\nconst LoginWithTheme = (props: any) => (\r\n    <ThemeProvider theme={createMuiTheme(defaultTheme)}>\r\n        <Login {...props} />\r\n    </ThemeProvider>\r\n);\r\n\r\nexport default LoginWithTheme;\r\n","import PosterCreate from \"./PosterCreate\";\r\nimport PosterEdit from \"./PosterEdit\";\r\nimport PosterList from \"./PosterList\";\r\nimport PosterShow from \"./PosterShow\";\r\n\r\nexport default {\r\n    list: PosterList,\r\n    create: PosterCreate,\r\n    edit: PosterEdit,\r\n    show: PosterShow\r\n}","import * as React from \"react\";\r\nimport {EditButton, ListProps, ShowButton, TextField, Datagrid, SimpleList} from \"react-admin\";\r\n\r\nimport {PostListActionToolbar} from \"ra-liac\";\r\nimport {List} from \"ra-liac\";\r\n\r\nexport default props => (\r\n    <List {...props}>\r\n        <Datagrid rowClick=\"show\">\r\n            <TextField source=\"id\"/>\r\n            <TextField source=\"name\"/>\r\n            <TextField source=\"description\"/>\r\n            <TextField source=\"price\"/>\r\n            <PostListActionToolbar>\r\n                <EditButton label=\"\"/>\r\n            </PostListActionToolbar>\r\n        </Datagrid>\r\n    </List>\r\n);","import {SimpleForm, TextInput} from \"react-admin\";\r\nimport {Create} from \"ra-liac\";\r\n\r\nexport default props => (\r\n     <Create {...props}>\r\n            <SimpleForm>\r\n                <TextInput  source=\"name\"/>\r\n                <TextInput  source=\"description\"/>\r\n                <TextInput source=\"comment\"/>\r\n                <TextInput  source=\"price\"/>\r\n            </SimpleForm>\r\n        </Create>\r\n    );","import {SimpleForm, TextInput} from \"react-admin\";\r\nimport {Edit} from \"ra-liac\";\r\n\r\nexport default props => (\r\n    <Edit {...props}>\r\n        <SimpleForm >\r\n            <TextInput source=\"name\"/>\r\n            <TextInput source=\"description\"/>\r\n            <TextInput source=\"comment\"/>\r\n            <TextInput source=\"price\"/>\r\n        </SimpleForm>\r\n    </Edit>\r\n);","import {Edit, ListProps, ShowProps, SimpleForm, SimpleShowLayout, TextField, TextInput} from \"react-admin\";\r\nimport {EditProps} from \"ra-ui-materialui/src/types\";\r\nimport {Show} from \"ra-liac\";\r\n\r\nexport default (props: ShowProps) => (<Show {...props}>\r\n        <SimpleShowLayout>\r\n            <TextField  source=\"name\"/>\r\n            <TextField  source=\"description\"/>\r\n            <TextField source=\"comment\"/>\r\n            <TextField  source=\"price\"/>\r\n        </SimpleShowLayout>\r\n    </Show>\r\n)","import ClientList from \"./ClientList\";\r\nimport ClientCreate from \"./ClientCreate\";\r\nimport ClientEdit from \"./ClientEdit\";\r\nimport ClientShow from \"./ClientShow\";\r\n\r\nexport default {\r\n    list: ClientList,\r\n    create: ClientCreate,\r\n    edit: ClientEdit,\r\n    show: ClientShow\r\n}","import * as React from \"react\";\r\nimport {EditButton, ListProps, ShowButton, TextField, Datagrid} from \"react-admin\";\r\n\r\nimport {PostListActionToolbar} from \"ra-liac\";\r\nimport {List} from \"ra-liac\";\r\n\r\n\r\n\r\nexport default (props: ListProps) => (\r\n    <List {...props}>\r\n        <Datagrid rowClick=\"show\">\r\n            <TextField source=\"id\" />\r\n            <TextField source=\"name\" />\r\n            <PostListActionToolbar>\r\n            <EditButton/>\r\n            </PostListActionToolbar>\r\n        </Datagrid>\r\n    </List>\r\n);","import {SimpleForm, TextInput} from \"react-admin\";\r\nimport {Create} from \"ra-liac\";\r\n\r\nexport default props => (\r\n     <Create {...props}>\r\n            <SimpleForm>\r\n                <TextInput  source=\"name\"/>\r\n            </SimpleForm>\r\n        </Create>\r\n    );","import {SimpleForm, TextInput} from \"react-admin\";\r\nimport {Edit} from \"ra-liac\";\r\n\r\nexport default props => (\r\n    <Edit {...props}>\r\n        <SimpleForm >\r\n            <TextInput source=\"name\"/>\r\n        </SimpleForm>\r\n    </Edit>\r\n);","import {Edit, ListProps, ShowProps, SimpleForm, SimpleShowLayout, TextField, TextInput} from \"react-admin\";\r\nimport {EditProps} from \"ra-ui-materialui/src/types\";\r\nimport {Show} from \"ra-liac\";\r\n\r\nexport default (props: ShowProps) => {\r\n\r\n    return (<Show {...props}>\r\n            <SimpleShowLayout>\r\n                <TextField  source=\"name\"/>\r\n            </SimpleShowLayout>\r\n        </Show>\r\n    )\r\n};","import React from 'react';\nimport {Admin} from \"react-admin\";\nimport dataProvider from \"./dataProvider\";\nimport authProvider from \"./authProvider\";\nimport {Resource} from \"ra-liac\";\nimport LoginPage from \"./components/layout/LoginPage\";\nimport posters from './components/posters';\nimport clients from './components/clients';\n\n\n\nconst App = () => (\n    <Admin\n        dataProvider={dataProvider}\n        authProvider={authProvider}\n        loginPage={LoginPage}\n    >\n      <Resource name=\"posters\" {...posters} />\n        <Resource name=\"clients\" {...clients} />\n    </Admin>\n);\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}